<head>
    <link rel="stylesheet" type="text/css" href="static/hindcss.css" >
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>`
    <script>
        function make_row(row){
            $row = $('<tr/>');
            $row.append($('<td/>').html($('<a/>').attr('href', '/suites/'+row.id).text(row.name)))
            $row.append($('<td/>').text(row.browser))
            $row.append($('<td/>').text(row.width+'x'+row.height))
            $row.append($('<td/>').text(row.last_ran))
            $row.append($('<td/>').text(row.description))
            $row.append($('<td/>').text(row.test_count))
            $row.append($('<td/>').text(0))
            $row.append($('<td/>').append(
                $('<button/>').text('x').click(
                    function() {
                        $.get('/suites/'+row.id+'/delete/')
                        update()
                    }
                )
            ))
            return $row
        }

        function make_table(data) {
            $table = $('<tbody>').attr("id", "suites")
            data.forEach(function(row) {
                $table.append(make_row(row))
            })
            return $table
        }

        function make_select(data) {
            $select = $('<select/>').attr('id', 'suite_select').attr('name', 'suite')
            $select.append($('<option\>').attr('value', 0).text("Suite Name"))
            data.forEach(function(row) {
                $select.append($('<option\>').attr('value', row.id).text(row.name))
            })
            return $select
        }

        function update() {
            $.get("/data/", function(data) {
                $('#suites').replaceWith(make_table(data));
                $('#suite_select').replaceWith(make_select(data));
            })
            setTimeout(update, 30000)
        }

        update()
    </script>
</head>

<body>
	<div id="header">
		<p id="name"><a href="Desktop/HindSite/templates/view/root.html">HindSite</a></p>
		<ul id="nav1">
			<li><a href="Desktop/HindSite/templates/view/root.html">Suites</a></li>
			<li ><a href="placeholder/IHaventMadeThisPage.html">About</a></li>
		</ul>
		<center><img src="static/images/logobase.png" id="logo" /></center>
	</div>
    <div id="main">
        <a href='/suites/add'>New Suite</a><p>
		<center>
        <table id="suiteinfo">
            <thead>
                <tr>
                    <td class="noshow"></td>
                    <td>Browser</td>
                    <td>Screen Size</td>
                    <td>Last ran</td>
                    <td>Description</td>
                    <td>Tests</td>
                    <td>Failing</td>
                    <td class="noshow"></td>
                </tr>
            </thead>
            <tbody id="suites"> </tbody>
        </table>
		</center>
        <h3>Copy Suite</h3>
        <form method=post enctype=multipart/form-data action=/suites/copy/>
            <select id="suite_select" name="suite"> </select>
            <input type=submit value=Copy>
        </form>
    </div>
</body>
